<!--
  Additional POM dependencies for Spring Boot projects.
  Add these to your pom.xml as needed.
-->

<!-- ============================================================ -->
<!-- TSID - For application-generated IDs (Tomato/DDD patterns)   -->
<!-- ============================================================ -->
<dependency>
    <groupId>io.hypersistence</groupId>
    <artifactId>hypersistence-utils-hibernate-71</artifactId>
    <version>3.14.1</version>
</dependency>

<!-- Usage:
package {{PACKAGE}}.shared;

import io.hypersistence.tsid.TSID;

public class TSIDUtil {
    private TSIDUtil() {}

    public static String generateTsidString() {
        return TSID.Factory.getTsid().toString();
    }

    public static Long generateTsidLong() {
        return TSID.Factory.getTsid().toLong();
    }
}
-->


<!-- ============================================================ -->
<!-- Spring Modulith - For Modular Monolith/Tomato patterns       -->
<!-- ============================================================ -->
<dependency>
    <groupId>org.springframework.modulith</groupId>
    <artifactId>spring-modulith-starter-core</artifactId>
</dependency>
<dependency>
    <groupId>org.springframework.modulith</groupId>
    <artifactId>spring-modulith-starter-jpa</artifactId>
</dependency>

<!-- Add to dependencyManagement:
<dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>org.springframework.modulith</groupId>
            <artifactId>spring-modulith-bom</artifactId>
            <version>2.0.1</version>
            <type>pom</type>
            <scope>import</scope>
        </dependency>
    </dependencies>
</dependencyManagement>
-->


<!-- ============================================================ -->
<!-- ArchUnit - For DDD+Hexagonal architecture tests              -->
<!-- ============================================================ -->
<dependency>
    <groupId>com.tngtech.archunit</groupId>
    <artifactId>archunit-junit5</artifactId>
    <version>1.2.1</version>
    <scope>test</scope>
</dependency>

<!-- Usage:
@ParameterizedTest
@ValueSource(strings = {"products", "orders"})
void shouldVerifyHexagonalArchitecture(String moduleName) {
    JavaClasses classes = new ClassFileImporter()
        .importPackages("com.example.%s".formatted(moduleName));

    onionArchitecture()
        .domainModels("com.example.%s.domain..".formatted(moduleName))
        .applicationServices("com.example.%s.application..".formatted(moduleName))
        .adapter("persistence", "com.example.%s.infra.persistence..".formatted(moduleName))
        .adapter("rest", "com.example.%s.interfaces.rest..".formatted(moduleName))
        .check(classes);
}
-->


<!-- ============================================================ -->
<!-- Testcontainers - For integration tests                       -->
<!-- ============================================================ -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-testcontainers</artifactId>
    <scope>test</scope>
</dependency>
<dependency>
    <groupId>org.testcontainers</groupId>
    <artifactId>postgresql</artifactId>
    <scope>test</scope>
</dependency>
<!-- Or for MySQL:
<dependency>
    <groupId>org.testcontainers</groupId>
    <artifactId>mysql</artifactId>
    <scope>test</scope>
</dependency>
-->


<!-- ============================================================ -->
<!-- SpringDoc OpenAPI - For Swagger UI                           -->
<!-- ============================================================ -->
<dependency>
    <groupId>org.springdoc</groupId>
    <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
    <!-- Set version per Springdoc release notes -->
    <version>${springdoc.version}</version>
</dependency>

<!-- Access at: http://localhost:8080/swagger-ui.html -->


<!-- ============================================================ -->
<!-- Spring Boot 4 Features & Improvements                       -->
<!-- ============================================================ -->

<!--
Spring Boot 4 highlights (see release notes and reference docs):

1. RestTestClient - Modern REST testing API
   - Template: resttestclient-test.java

2. HTTP Service Clients
   - Template: http-service-client.java
   - Auto-configuration and properties are provided by Spring Boot.

3. API Versioning (Spring MVC / WebFlux)
   - Template: api-versioning-config.java
   - Property-based configuration is supported (spring.mvc.apiversion.*).

4. OpenTelemetry starter
   - Dependency: spring-boot-starter-opentelemetry

5. Kotlin serialization
   - Module: spring-boot-kotlinx-serialization-json
   - Starter: spring-boot-starter-kotlin-serialization

6. JmsClient support
   - JMS auto-configuration includes the new JmsClient API.

7. TaskDecorator composition
   - Multiple TaskDecorator beans are supported via CompositeTaskDecorator.

8. JSpecify null-safety improvements
   - Template: package-info-jspecify.java

External reference (non-official):
- Resilience features example (annotations + @EnableResilientMethods):
  https://github.com/sivaprasadreddy/spring-boot-4-features/tree/main/resilience-features
-->


<!-- ============================================================ -->
<!-- Spring Boot 4 AOT Configuration (for Native Images)         -->
<!-- ============================================================ -->
<!--
Add this to enable ahead-of-time compilation:

<build>
    <plugins>
        <plugin>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-maven-plugin</artifactId>
            <executions>
                <execution>
                    <id>process-aot</id>
                    <goals>
                        <goal>process-aot</goal>
                    </goals>
                </execution>
            </executions>
        </plugin>
    </plugins>
</build>
-->


<!-- ============================================================ -->
<!-- JSpecify Dependency (Optional - for additional tooling)     -->
<!-- ============================================================ -->
<!--
JSpecify is included by default in Spring Boot 4.
Add this only if you need explicit version control:

<dependency>
    <groupId>org.jspecify</groupId>
    <artifactId>jspecify</artifactId>
    <version>1.0.0</version>
    <scope>provided</scope>
</dependency>

Usage:
1. Create package-info.java in each package
2. Add @NullMarked annotation
3. Configure IDE for null safety warnings
4. Use @Nullable for optional fields

See template: package-info-jspecify.java
-->
